<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>管理者页面</title>
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<h1></h1>
<script src='https://code.jquery.com/jquery-3.2.1.min.js'></script>
<script src="../static/js/bootstrap.min.js"></script>

<script>
    $(function () {
        localStorage.clear()
    $("#selectAll").on("click",function () {
        $.ajax({
            type:"get",
            url:"/AdminSearchServlet",
            success:function (data) {
                if(data!=='false'){
                    $("#userList tr:not(:first)").empty();
                    for( let i = 0; i < data.length; i++ ) {
                        //动态创建一个tr行标签,并且转换成jQuery对象
                        let $trTemp = $("<tr id="+i+">"+" </tr>");
                        //往行里面追加 td单元格
                        $trTemp.append("<td>"+"<input type='checkbox'>" +"</td>")
                        $trTemp.append("<td>"+ data[i].studentId +"</td>");
                        $trTemp.append("<td>"+ data[i].name +"</td>");
                        $trTemp.append("<td>"+ data[i].password +"</td>");
                        $trTemp.append("<td>"+ data[i].gender +"</td>");
                        $trTemp.append("<td>"+ data[i].choiceOfDirection +"</td>");
                        $trTemp.append("<td>"+ data[i].major +"</td>");
                        $trTemp.append("<td>"+ data[i].grade +"</td>");
                        $trTemp.append("<td>"+ data[i].contactNumber +"</td>");
                        $trTemp.append("<td>"+ data[i].selfIntroduce +"</td>");
                        $trTemp.append("<td>"+ data[i].skillMastered+"</td>");
                        $trTemp.append("<td colspan='8' align='center'>"+ "<a id = "+i+" class='btn btn-primary' href='/html/user.html' >"+ "修改"+"&nbsp" +"</a>"+"<a class='btn btn-primary' >" + "删除" +"</a>"+ "</td>")
                        // $("#J_TbData").append($trTemp);
                        $trTemp.appendTo("#userList");
                    }
                    console.log("查询成功");
                }else{
                    console.log("查询失败");
                }
            },
            error:function () {
                console.log("服务器问题");
            },
            dataType:"json"
        });
    })

    })

</script>
<div class="container-fluid">
    <div>
        <h3 class="col-sm-offset-5">用户信息列表<button id="selectAll" ><small>获取所有用户信息</small> </button></h3>
    </div>
<div style="float: left">
    <form class="form-inline">
        <div class="form-group">
            <label for="searchId">学号</label>
            <input type="text" class="form-control" id="searchId" placeholder="studentId">
        </div>
        <div class="form-group">
            <label for="searchName">姓名</label>
            <input type="text" class="form-control" id="searchName" placeholder="name">
        </div>
        <div class="form-group">
            <label for="searchClass">班级</label>
            <input type="text" class="form-control" id="searchClass" placeholder="name">
        </div>
        <button type="submit" class="btn btn-default"> 查找</button>
    </form>

</div>
    <div style="float: right">
        <a class="btn btn-primary" href="/html/user.html">添加</a>
        <a class="btn btn-primary" href="#">删除选中</a>
    </div>

    <table id ="userList" border="1" class="table table-bordered table-hover">
        <tr class="success" disabled="#">
            <th><input type="checkbox"> </th>
            <th>学号</th>
            <th>姓名</th>
            <th>密码</th>
            <th>性别</th>
            <th>方向</th>
            <th>专业</th>
            <th>年级</th>
            <th>联系电话</th>
            <th>自我介绍</th>
            <th>已经掌握的技能</th>
            <th>操作</th>
        </tr>
    </table>
    <div>
        <nav aria-label="Page navigation">
            <ul class="pagination">
                <li>
                    <a href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <li><a href="#">1</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5</a></li>
                <li>
                    <a href="#" aria-label="Next">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <span style="font-size:20px">待实现目录条</span>
            </ul>

        </nav>
    </div>


</div>



</body>


</html>